<Window xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="using:eControl.Agent.UI.ViewModels"
    x:Class="eControl.Agent.UI.Views.SessionToolbar"
    x:DataType="vm:SessionToolbarViewModel"
    Title="eControl Session Toolbar"
    Height="60" Width="1000"
    WindowStartupLocation="CenterScreen"
    SystemDecorations="None"
    Topmost="True"
    Background="Transparent"
    TransparencyLevelHint="Mica, AcrylicBlur">

    <Design.DataContext>
        <vm:SessionToolbarViewModel />
    </Design.DataContext>

    <Border Background="#252525"
        Opacity="0.95"
        CornerRadius="0,0,15,15"
        BoxShadow="0 4 15 0 #000000"
        HorizontalAlignment="Center">

        <Grid ColumnDefinitions="Auto, *, Auto" Margin="20,0">
            <!-- Left Side: User Info & Time -->
            <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="25"
                VerticalAlignment="Center">
                <StackPanel Orientation="Horizontal" Spacing="10">
                    <TextBlock Text="ðŸ‘¤" Foreground="#6366F1" FontSize="18"
                        VerticalAlignment="Center" />
                    <TextBlock Text="{Binding UserName}" VerticalAlignment="Center"
                        FontWeight="SemiBold" Foreground="White" />
                </StackPanel>

                <StackPanel Orientation="Horizontal" Spacing="10">
                    <TextBlock Text="ðŸ•’" Foreground="#6366F1" FontSize="18"
                        VerticalAlignment="Center" />
                    <TextBlock Text="{Binding RemainingTime}" VerticalAlignment="Center"
                        FontSize="18" FontWeight="Black" Foreground="#6366F1" Width="100" />
                </StackPanel>
            </StackPanel>

            <!-- Center (Empty/Drag area) -->
            <Panel Grid.Column="1" />

            <!-- Right Side: Actions -->
            <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="15"
                VerticalAlignment="Center">
                <TextBlock Text="{Binding Balance}" VerticalAlignment="Center" Foreground="#10B981"
                    FontWeight="Bold" Margin="0,0,10,0" />

                <Button Command="{Binding ShowDashboardCommand}"
                    Background="#333333" Padding="15,8" CornerRadius="8">
                    <TextBlock Text="MENU" FontSize="12" FontWeight="Bold" Foreground="White" />
                </Button>

                <Button Command="{Binding LogoutCommand}"
                    Background="#EF4444" Padding="15,8" CornerRadius="8">
                    <TextBlock Text="TERMINAR" FontSize="12" FontWeight="Bold" Foreground="White" />
                </Button>
            </StackPanel>
        </Grid>
    </Border>
</Window>